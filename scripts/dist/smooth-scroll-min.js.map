{"version":3,"sources":["smooth-scroll.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","root","factory","define","amd","exports","module","smoothScroll","global","undefined","window","settings","eventTimeout","fixedHeader","headerHeight","supports","document","defaults","selector","selectorHeader","speed","easing","offset","updateURL","callback","extend","extended","deep","i","length","arguments","Object","toString","call","merge","prop","hasOwnProperty","getHeaderHeight","header","elem","Math","max","scrollHeight","offsetHeight","clientHeight","offsetTop","animateScroll","toggle","anchor","options","overrides","JSON","parse","getDataOptions","getAttribute","anchorElem","id","codeUnit","string","String","index","result","firstCodeUnit","charCodeAt","InvalidCharacterError","charAt","escapeCharacters","substr","documentElement","querySelector","startLocation","pageYOffset","animationInterval","percentage","position","endLocation","location","offsetParent","getEndLocation","parseInt","distance","documentHeight","body","timeLapsed","url","history","pushState","protocol","host","pathname","search","join","updateUrl","loopAnimateScroll","type","time","pattern","scrollTo","floor","currentLocation","innerHeight","clearInterval","focus","stopAnimateScroll","setInterval","eventHandler","event","attribute","value","firstChar","split","replace","parentNode","classList","contains","RegExp","test","className","hasAttribute","tagName","toLowerCase","getClosest","target","preventDefault","hash","eventThrottler","setTimeout","destroy","removeEventListener","init","addEventListener"],"mappings":"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","sourcesContent":["/*!\n * smooth-scroll v7.1.1: Animate scrolling to anchor links\n * (c) 2015 Chris Ferdinandi\n * MIT License\n * http://github.com/cferdinandi/smooth-scroll\n */\n\n(function (root, factory) {\n    if ( typeof define === 'function' && define.amd ) {\n        define([], factory(root));\n    } else if ( typeof exports === 'object' ) {\n        module.exports = factory(root);\n    } else {\n        root.smoothScroll = factory(root);\n    }\n})(typeof global !== 'undefined' ? global : this.window || this.global, function (root) {\n\n    'use strict';\n\n    //\n    // Variables\n    //\n\n    var smoothScroll = {}; // Object for public APIs\n    var supports = 'querySelector' in document && 'addEventListener' in root; // Feature test\n    var settings, eventTimeout, fixedHeader, headerHeight;\n\n    // Default settings\n    var defaults = {\n        selector: '[data-scroll]',\n        selectorHeader: '[data-scroll-header]',\n        speed: 500,\n        easing: 'easeInOutCubic',\n        offset: 0,\n        updateURL: true,\n        callback: function () {}\n    };\n\n\n    //\n    // Methods\n    //\n\n    /**\n     * Merge two or more objects. Returns a new object.\n     * @private\n     * @param {Boolean}  deep     If true, do a deep (or recursive) merge [optional]\n     * @param {Object}   objects  The objects to merge together\n     * @returns {Object}          Merged values of defaults and options\n     */\n    var extend = function () {\n\n        // Variables\n        var extended = {};\n        var deep = false;\n        var i = 0;\n        var length = arguments.length;\n\n        // Check if a deep merge\n        if ( Object.prototype.toString.call( arguments[0] ) === '[object Boolean]' ) {\n            deep = arguments[0];\n            i++;\n        }\n\n        // Merge the object into the extended object\n        var merge = function (obj) {\n            for ( var prop in obj ) {\n                if ( Object.prototype.hasOwnProperty.call( obj, prop ) ) {\n                    // If deep merge and property is an object, merge properties\n                    if ( deep && Object.prototype.toString.call(obj[prop]) === '[object Object]' ) {\n                        extended[prop] = extend( true, extended[prop], obj[prop] );\n                    } else {\n                        extended[prop] = obj[prop];\n                    }\n                }\n            }\n        };\n\n        // Loop through each object and conduct a merge\n        for ( ; i < length; i++ ) {\n            var obj = arguments[i];\n            merge(obj);\n        }\n\n        return extended;\n\n    };\n\n    /**\n     * Get the height of an element.\n     * @private\n     * @param  {Node} elem The element to get the height of\n     * @return {Number}    The element's height in pixels\n     */\n    var getHeight = function ( elem ) {\n        return Math.max( elem.scrollHeight, elem.offsetHeight, elem.clientHeight );\n    };\n\n    /**\n     * Get the closest matching element up the DOM tree.\n     * @private\n     * @param  {Element} elem     Starting element\n     * @param  {String}  selector Selector to match against (class, ID, data attribute, or tag)\n     * @return {Boolean|Element}  Returns null if not match found\n     */\n    var getClosest = function ( elem, selector ) {\n\n        // Variables\n        var firstChar = selector.charAt(0);\n        var supports = 'classList' in document.documentElement;\n        var attribute, value;\n\n        // If selector is a data attribute, split attribute from value\n        if ( firstChar === '[' ) {\n            selector = selector.substr(1, selector.length - 2);\n            attribute = selector.split( '=' );\n\n            if ( attribute.length > 1 ) {\n                value = true;\n                attribute[1] = attribute[1].replace( /\"/g, '' ).replace( /'/g, '' );\n            }\n        }\n\n        // Get closest match\n        for ( ; elem && elem !== document; elem = elem.parentNode ) {\n\n            // If selector is a class\n            if ( firstChar === '.' ) {\n                if ( supports ) {\n                    if ( elem.classList.contains( selector.substr(1) ) ) {\n                        return elem;\n                    }\n                } else {\n                    if ( new RegExp('(^|\\\\s)' + selector.substr(1) + '(\\\\s|$)').test( elem.className ) ) {\n                        return elem;\n                    }\n                }\n            }\n\n            // If selector is an ID\n            if ( firstChar === '#' ) {\n                if ( elem.id === selector.substr(1) ) {\n                    return elem;\n                }\n            }\n\n            // If selector is a data attribute\n            if ( firstChar === '[' ) {\n                if ( elem.hasAttribute( attribute[0] ) ) {\n                    if ( value ) {\n                        if ( elem.getAttribute( attribute[0] ) === attribute[1] ) {\n                            return elem;\n                        }\n                    } else {\n                        return elem;\n                    }\n                }\n            }\n\n            // If selector is a tag\n            if ( elem.tagName.toLowerCase() === selector ) {\n                return elem;\n            }\n\n        }\n\n        return null;\n\n    };\n\n    /**\n     * Escape special characters for use with querySelector\n     * @private\n     * @param {String} id The anchor ID to escape\n     * @author Mathias Bynens\n     * @link https://github.com/mathiasbynens/CSS.escape\n     */\n    var escapeCharacters = function ( id ) {\n        var string = String(id);\n        var length = string.length;\n        var index = -1;\n        var codeUnit;\n        var result = '';\n        var firstCodeUnit = string.charCodeAt(0);\n        while (++index < length) {\n            codeUnit = string.charCodeAt(index);\n            // Note: there’s no need to special-case astral symbols, surrogate\n            // pairs, or lone surrogates.\n\n            // If the character is NULL (U+0000), then throw an\n            // `InvalidCharacterError` exception and terminate these steps.\n            if (codeUnit === 0x0000) {\n                throw new InvalidCharacterError(\n                    'Invalid character: the input contains U+0000.'\n                );\n            }\n\n            if (\n                // If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n            // U+007F, […]\n            (codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n                // If the character is the first character and is in the range [0-9]\n                // (U+0030 to U+0039), […]\n            (index === 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n                // If the character is the second character and is in the range [0-9]\n                // (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\n            (\n                index === 1 &&\n                codeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n                firstCodeUnit === 0x002D\n            )\n            ) {\n                // http://dev.w3.org/csswg/cssom/#escape-a-character-as-code-point\n                result += '\\\\' + codeUnit.toString(16) + ' ';\n                continue;\n            }\n\n            // If the character is not handled by one of the above rules and is\n            // greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n            // is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n            // U+005A), or [a-z] (U+0061 to U+007A), […]\n            if (\n                codeUnit >= 0x0080 ||\n                codeUnit === 0x002D ||\n                codeUnit === 0x005F ||\n                codeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n                codeUnit >= 0x0041 && codeUnit <= 0x005A ||\n                codeUnit >= 0x0061 && codeUnit <= 0x007A\n            ) {\n                // the character itself\n                result += string.charAt(index);\n                continue;\n            }\n\n            // Otherwise, the escaped character.\n            // http://dev.w3.org/csswg/cssom/#escape-a-character\n            result += '\\\\' + string.charAt(index);\n\n        }\n        return result;\n    };\n\n    /**\n     * Calculate the easing pattern\n     * @private\n     * @link https://gist.github.com/gre/1650294\n     * @param {String} type Easing pattern\n     * @param {Number} time Time animation should take to complete\n     * @returns {Number}\n     */\n    var easingPattern = function ( type, time ) {\n        var pattern;\n        if ( type === 'easeInQuad' ) pattern = time * time; // accelerating from zero velocity\n        if ( type === 'easeOutQuad' ) pattern = time * (2 - time); // decelerating to zero velocity\n        if ( type === 'easeInOutQuad' ) pattern = time < 0.5 ? 2 * time * time : -1 + (4 - 2 * time) * time; // acceleration until halfway, then deceleration\n        if ( type === 'easeInCubic' ) pattern = time * time * time; // accelerating from zero velocity\n        if ( type === 'easeOutCubic' ) pattern = (--time) * time * time + 1; // decelerating to zero velocity\n        if ( type === 'easeInOutCubic' ) pattern = time < 0.5 ? 4 * time * time * time : (time - 1) * (2 * time - 2) * (2 * time - 2) + 1; // acceleration until halfway, then deceleration\n        if ( type === 'easeInQuart' ) pattern = time * time * time * time; // accelerating from zero velocity\n        if ( type === 'easeOutQuart' ) pattern = 1 - (--time) * time * time * time; // decelerating to zero velocity\n        if ( type === 'easeInOutQuart' ) pattern = time < 0.5 ? 8 * time * time * time * time : 1 - 8 * (--time) * time * time * time; // acceleration until halfway, then deceleration\n        if ( type === 'easeInQuint' ) pattern = time * time * time * time * time; // accelerating from zero velocity\n        if ( type === 'easeOutQuint' ) pattern = 1 + (--time) * time * time * time * time; // decelerating to zero velocity\n        if ( type === 'easeInOutQuint' ) pattern = time < 0.5 ? 16 * time * time * time * time * time : 1 + 16 * (--time) * time * time * time * time; // acceleration until halfway, then deceleration\n        return pattern || time; // no easing, no acceleration\n    };\n\n    /**\n     * Calculate how far to scroll\n     * @private\n     * @param {Element} anchor The anchor element to scroll to\n     * @param {Number} headerHeight Height of a fixed header, if any\n     * @param {Number} offset Number of pixels by which to offset scroll\n     * @returns {Number}\n     */\n    var getEndLocation = function ( anchor, headerHeight, offset ) {\n        var location = 0;\n        if (anchor.offsetParent) {\n            do {\n                location += anchor.offsetTop;\n                anchor = anchor.offsetParent;\n            } while (anchor);\n        }\n        location = location - headerHeight - offset;\n        return location >= 0 ? location : 0;\n    };\n\n    /**\n     * Determine the document's height\n     * @private\n     * @returns {Number}\n     */\n    var getDocumentHeight = function () {\n        return Math.max(\n            root.document.body.scrollHeight, root.document.documentElement.scrollHeight,\n            root.document.body.offsetHeight, root.document.documentElement.offsetHeight,\n            root.document.body.clientHeight, root.document.documentElement.clientHeight\n        );\n    };\n\n    /**\n     * Convert data-options attribute into an object of key/value pairs\n     * @private\n     * @param {String} options Link-specific options as a data attribute string\n     * @returns {Object}\n     */\n    var getDataOptions = function ( options ) {\n        return !options || !(typeof JSON === 'object' && typeof JSON.parse === 'function') ? {} : JSON.parse( options );\n    };\n\n    /**\n     * Update the URL\n     * @private\n     * @param {Element} anchor The element to scroll to\n     * @param {Boolean} url Whether or not to update the URL history\n     */\n    var updateUrl = function ( anchor, url ) {\n        if ( root.history.pushState && (url || url === 'true') && root.location.protocol !== 'file:' ) {\n            root.history.pushState( null, null, [root.location.protocol, '//', root.location.host, root.location.pathname, root.location.search, anchor].join('') );\n        }\n    };\n\n    var getHeaderHeight = function ( header ) {\n        return header === null ? 0 : ( getHeight( header ) + header.offsetTop );\n    };\n\n    /**\n     * Start/stop the scrolling animation\n     * @public\n     * @param {Element} toggle The element that toggled the scroll event\n     * @param {Element} anchor The element to scroll to\n     * @param {Object} options\n     */\n    smoothScroll.animateScroll = function ( toggle, anchor, options ) {\n\n        // Options and overrides\n        var overrides = getDataOptions( toggle ? toggle.getAttribute('data-options') : null );\n        var settings = extend( settings || defaults, options || {}, overrides ); // Merge user options with defaults\n        anchor = '#' + escapeCharacters(anchor.substr(1)); // Escape special characters and leading numbers\n\n        // Selectors and variables\n        var anchorElem = anchor === '#' ? root.document.documentElement : root.document.querySelector(anchor);\n        var startLocation = root.pageYOffset; // Current location on the page\n        if ( !fixedHeader ) { fixedHeader = root.document.querySelector( settings.selectorHeader ); }  // Get the fixed header if not already set\n        if ( !headerHeight ) { headerHeight = getHeaderHeight( fixedHeader ); } // Get the height of a fixed header if one exists and not already set\n        var endLocation = getEndLocation( anchorElem, headerHeight, parseInt(settings.offset, 10) ); // Scroll to location\n        var animationInterval; // interval timer\n        var distance = endLocation - startLocation; // distance to travel\n        var documentHeight = getDocumentHeight();\n        var timeLapsed = 0;\n        var percentage, position;\n\n        // Update URL\n        updateUrl(anchor, settings.updateURL);\n\n        /**\n         * Stop the scroll animation when it reaches its target (or the bottom/top of page)\n         * @private\n         * @param {Number} position Current position on the page\n         * @param {Number} endLocation Scroll to location\n         * @param {Number} animationInterval How much to scroll on this loop\n         */\n        var stopAnimateScroll = function (position, endLocation, animationInterval) {\n            var currentLocation = root.pageYOffset;\n            if ( position == endLocation || currentLocation == endLocation || ( (root.innerHeight + currentLocation) >= documentHeight ) ) {\n                clearInterval(animationInterval);\n                anchorElem.focus();\n                settings.callback( toggle, anchor ); // Run callbacks after animation complete\n            }\n        };\n\n        /**\n         * Loop scrolling animation\n         * @private\n         */\n        var loopAnimateScroll = function () {\n            timeLapsed += 16;\n            percentage = ( timeLapsed / parseInt(settings.speed, 10) );\n            percentage = ( percentage > 1 ) ? 1 : percentage;\n            position = startLocation + ( distance * easingPattern(settings.easing, percentage) );\n            root.scrollTo( 0, Math.floor(position) );\n            stopAnimateScroll(position, endLocation, animationInterval);\n        };\n\n        /**\n         * Set interval timer\n         * @private\n         */\n        var startAnimateScroll = function () {\n            animationInterval = setInterval(loopAnimateScroll, 16);\n        };\n\n        /**\n         * Reset position to fix weird iOS bug\n         * @link https://github.com/cferdinandi/smooth-scroll/issues/45\n         */\n        if ( root.pageYOffset === 0 ) {\n            root.scrollTo( 0, 0 );\n        }\n\n        // Start scrolling animation\n        startAnimateScroll();\n\n    };\n\n    /**\n     * If smooth scroll element clicked, animate scroll\n     * @private\n     */\n    var eventHandler = function (event) {\n        var toggle = getClosest( event.target, settings.selector );\n        if ( toggle && toggle.tagName.toLowerCase() === 'a' ) {\n            event.preventDefault(); // Prevent default click event\n            smoothScroll.animateScroll( toggle, toggle.hash, settings); // Animate scroll\n        }\n    };\n\n    /**\n     * On window scroll and resize, only run events at a rate of 15fps for better performance\n     * @private\n     * @param  {Function} eventTimeout Timeout function\n     * @param  {Object} settings\n     */\n    var eventThrottler = function (event) {\n        if ( !eventTimeout ) {\n            eventTimeout = setTimeout(function() {\n                eventTimeout = null; // Reset timeout\n                headerHeight = getHeaderHeight( fixedHeader ); // Get the height of a fixed header if one exists\n            }, 66);\n        }\n    };\n\n    /**\n     * Destroy the current initialization.\n     * @public\n     */\n    smoothScroll.destroy = function () {\n\n        // If plugin isn't already initialized, stop\n        if ( !settings ) return;\n\n        // Remove event listeners\n        root.document.removeEventListener( 'click', eventHandler, false );\n        root.removeEventListener( 'resize', eventThrottler, false );\n\n        // Reset varaibles\n        settings = null;\n        eventTimeout = null;\n        fixedHeader = null;\n        headerHeight = null;\n    };\n\n    /**\n     * Initialize Smooth Scroll\n     * @public\n     * @param {Object} options User settings\n     */\n    smoothScroll.init = function ( options ) {\n\n        // feature test\n        if ( !supports ) return;\n\n        // Destroy any existing initializations\n        smoothScroll.destroy();\n\n        // Selectors and variables\n        settings = extend( defaults, options || {} ); // Merge user options with defaults\n        fixedHeader = root.document.querySelector( settings.selectorHeader ); // Get the fixed header\n        headerHeight = getHeaderHeight( fixedHeader );\n\n        // When a toggle is clicked, run the click handler\n        root.document.addEventListener('click', eventHandler, false );\n        if ( fixedHeader ) { root.addEventListener( 'resize', eventThrottler, false ); }\n\n    };\n\n\n    //\n    // Public APIs\n    //\n\n    return smoothScroll;\n\n});\n"],"file":"smooth-scroll-min.js"}